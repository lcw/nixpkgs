# TODO: PR 306172

Files with references to CUDA that I need to fix up or create separate issues for:

#### Docs

- [ ] [./doc/languages-frameworks/cuda.section.md](./doc/languages-frameworks/cuda.section.md)
- [ ] Everything in [./pkgs/development/cuda-modules](./pkgs/development/cuda-modules)

#### Packages

- [x] [./pkgs/applications/misc/blender/default.nix](./pkgs/applications/misc/blender/default.nix)
- [x] [./pkgs/applications/misc/firestarter/default.nix](./pkgs/applications/misc/firestarter/default.nix)
- [ ] [./pkgs/applications/misc/gpu-burn/default.nix](./pkgs/applications/misc/gpu-burn/default.nix)
  - Migrate to cuda-redist
  - Refactor to `autoAddDriverRunpath` from `addOpenGLRunpath`
- [ ] [./pkgs/applications/science/chemistry/cp2k/default.nix](./pkgs/applications/science/chemistry/cp2k/default.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
  - Fix path for cuda_cudart stubs (use stubs output)
- [ ] [./pkgs/applications/science/math/mathematica/9.nix](./pkgs/applications/science/math/mathematica/9.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
  - Unable to test because I don't have a license for Mathematica
  - Basically all of the Mathematica versions
  - TODO: Is there a way to mark files with requireFile which do not have the required file present in the store as broken? False positives during nixpkgs-review.
- [ ] [./pkgs/applications/science/math/mxnet/default.nix](./pkgs/applications/science/math/mxnet/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/applications/science/misc/colmap/default.nix](./pkgs/applications/science/misc/colmap/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/applications/science/molecular-dynamics/gromacs/default.nix](./pkgs/applications/science/molecular-dynamics/gromacs/default.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/by-name/ll/llama-cpp/package.nix](./pkgs/by-name/ll/llama-cpp/package.nix)
  - Are both static and dynamic `libcublas` required?
  - Remove comment about `A temporary hack for reducing the closure size, remove once cudaPackages`
- [ ] [./pkgs/by-name/lo/local-ai/package.nix](./pkgs/by-name/lo/local-ai/package.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/by-name/ma/maa-assistant-arknights/fastdeploy-ppocr.nix](./pkgs/by-name/ma/maa-assistant-arknights/fastdeploy-ppocr.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/by-name/ma/maa-assistant-arknights/package.nix](./pkgs/by-name/ma/maa-assistant-arknights/package.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/by-name/op/opensplat/package.nix](./pkgs/by-name/op/opensplat/package.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/by-name/si/sirius/package.nix](./pkgs/by-name/si/sirius/package.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/by-name/sp/spfft/package.nix](./pkgs/by-name/sp/spfft/package.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/by-name/sp/spla/package.nix](./pkgs/by-name/sp/spla/package.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/compilers/terra/default.nix](./pkgs/development/compilers/terra/default.nix)
  - Migrate to `cudaSupport`
  - Migrate to cuda-redist
- [ ] [./pkgs/development/haskell-modules/configuration-nix.nix](./pkgs/development/haskell-modules/configuration-nix.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/arrayfire/default.nix](./pkgs/development/libraries/arrayfire/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/catboost/default.nix](./pkgs/development/libraries/catboost/default.nix)
  - Migrate to `cudaOlder`
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/development/libraries/ctranslate2/default.nix](./pkgs/development/libraries/ctranslate2/default.nix)
  - Usage of `cmakeBool` is incorrect
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/development/libraries/dlib/default.nix](./pkgs/development/libraries/dlib/default.nix)
  - Are both the static and dynamic libraries used?
- [ ] [./pkgs/development/libraries/elpa/default.nix](./pkgs/development/libraries/elpa/default.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/development/libraries/librealsense/default.nix](./pkgs/development/libraries/librealsense/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/lightgbm/default.nix](./pkgs/development/libraries/lightgbm/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/onnxruntime/default.nix](./pkgs/development/libraries/onnxruntime/default.nix)
  - Use split outputs of cuda-redist for non-trivial packages (e.g., CUDNN)
- [ ] [./pkgs/development/libraries/opencv/3.x.nix](./pkgs/development/libraries/opencv/3.x.nix)
  - All of the OpenCV versions
  - Migrate to cuda-redist
  - Use `cmakeCudaArchitecturesString`
- [ ] [./pkgs/development/libraries/openmpi/default.nix](./pkgs/development/libraries/openmpi/default.nix)
  - `++ lib.optionals cudaSupport [ "--with-cuda=${cudaPackages.cuda_cudart}" "--enable-dlopen" ]` will likely break as a result of `cuda_cudart.out` being mostly empty save for `nix-support/propagated-build-inputs`
- [ ] [./pkgs/development/libraries/science/chemistry/openmm/default.nix](./pkgs/development/libraries/science/chemistry/openmm/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/science/math/faiss/default.nix](./pkgs/development/libraries/science/math/faiss/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/science/math/libtorch/bin.nix](./pkgs/development/libraries/science/math/libtorch/bin.nix)
  - Migrate to `autoAddDriverRunpath` from `addOpenGLRunpath`
- [ ] [./pkgs/development/libraries/science/math/libtorch/test/default.nix](./pkgs/development/libraries/science/math/libtorch/test/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/science/math/suitesparse/4.4.nix](./pkgs/development/libraries/science/math/suitesparse/4.4.nix)
  - All of the SuiteSparse versions
  - Migrate to cuda-redist
- [ ] [./pkgs/development/libraries/science/math/tiny-cuda-nn/default.nix](./pkgs/development/libraries/science/math/tiny-cuda-nn/default.nix)
  - Move from symlink join
- [ ] [./pkgs/development/libraries/ucx/default.nix](./pkgs/development/libraries/ucx/default.nix)
  - Fix path usage and stubs
- [ ] [./pkgs/development/libraries/xgboost/default.nix](./pkgs/development/libraries/xgboost/default.nix)
  - Migrate to cuda-redist
- [ ] [./pkgs/development/python-modules/accelerate/default.nix](./pkgs/development/python-modules/accelerate/default.nix)
- [ ] [./pkgs/development/python-modules/bitsandbytes/default.nix](./pkgs/development/python-modules/bitsandbytes/default.nix)
- [ ] [./pkgs/development/python-modules/chainer/default.nix](./pkgs/development/python-modules/chainer/default.nix)
- [ ] [./pkgs/development/python-modules/cupy/default.nix](./pkgs/development/python-modules/cupy/default.nix)
- [ ] [./pkgs/development/python-modules/face-recognition/default.nix](./pkgs/development/python-modules/face-recognition/default.nix)
- [ ] [./pkgs/development/python-modules/gpuctypes/default.nix](./pkgs/development/python-modules/gpuctypes/default.nix)
- [ ] [./pkgs/development/python-modules/jax/default.nix](./pkgs/development/python-modules/jax/default.nix)
- [ ] [./pkgs/development/python-modules/jaxlib/bin.nix](./pkgs/development/python-modules/jaxlib/bin.nix)
  - All of the Jaxlib versions
- [ ] [./pkgs/development/python-modules/libgpuarray/default.nix](./pkgs/development/python-modules/libgpuarray/default.nix)
- [ ] [./pkgs/development/python-modules/lightgbm/default.nix](./pkgs/development/python-modules/lightgbm/default.nix)
- [ ] [./pkgs/development/python-modules/mmcv/default.nix](./pkgs/development/python-modules/mmcv/default.nix)
- [ ] [./pkgs/development/python-modules/numba/default.nix](./pkgs/development/python-modules/numba/default.nix)
- [ ] [./pkgs/development/python-modules/onnxruntime/default.nix](./pkgs/development/python-modules/onnxruntime/default.nix)
- [ ] [./pkgs/development/python-modules/openai-triton/bin.nix](./pkgs/development/python-modules/openai-triton/bin.nix)
  - All of the OpenAI Triton versions
- [ ] [./pkgs/development/python-modules/paddleocr/default.nix](./pkgs/development/python-modules/paddleocr/default.nix)
- [ ] [./pkgs/development/python-modules/paddlepaddle/default.nix](./pkgs/development/python-modules/paddlepaddle/default.nix)
- [ ] [./pkgs/development/python-modules/pycuda/default.nix](./pkgs/development/python-modules/pycuda/default.nix)
- [ ] [./pkgs/development/python-modules/reikna/default.nix](./pkgs/development/python-modules/reikna/default.nix)
- [ ] [./pkgs/development/python-modules/tensorflow/bin.nix](./pkgs/development/python-modules/tensorflow/bin.nix)
  - All of the TensorFlow versions
- [ ] [./pkgs/development/python-modules/tensorrt/default.nix](./pkgs/development/python-modules/tensorrt/default.nix)
- [ ] [./pkgs/development/python-modules/theano/default.nix](./pkgs/development/python-modules/theano/default.nix)
- [ ] [./pkgs/development/python-modules/torch/bin.nix](./pkgs/development/python-modules/torch/bin.nix)
  - All of the Torch versions
- [ ] [./pkgs/development/python-modules/torchaudio/bin.nix](./pkgs/development/python-modules/torchaudio/bin.nix)
  - All of the TorchAudio versions
- [ ] [./pkgs/development/python-modules/torchvision/bin.nix](./pkgs/development/python-modules/torchvision/bin.nix)
  - All of the TorchVision versions
- [ ] [./pkgs/development/python-modules/vllm/default.nix](./pkgs/development/python-modules/vllm/default.nix)
- [ ] [./pkgs/development/python-modules/xformers/default.nix](./pkgs/development/python-modules/xformers/default.nix)
- [ ] [./pkgs/development/rocm-modules/5/default.nix](./pkgs/development/rocm-modules/5/default.nix)
  - All versions
  - Unused reference to cudaPackages
- [ ] [./pkgs/games/katago/default.nix](./pkgs/games/katago/default.nix)
- [ ] [./pkgs/os-specific/linux/dcgm/default.nix](./pkgs/os-specific/linux/dcgm/default.nix)
- [ ] [./pkgs/servers/sunshine/default.nix](./pkgs/servers/sunshine/default.nix)
- [ ] [./pkgs/test/cuda/default.nix](./pkgs/test/cuda/default.nix)
- [ ] [./pkgs/tools/audio/openai-whisper-cpp/default.nix](./pkgs/tools/audio/openai-whisper-cpp/default.nix)
- [ ] [./pkgs/tools/compression/zfp/default.nix](./pkgs/tools/compression/zfp/default.nix)
- [ ] [./pkgs/tools/graphics/waifu2x-converter-cpp/default.nix](./pkgs/tools/graphics/waifu2x-converter-cpp/default.nix)
- [ ] [./pkgs/tools/misc/ollama/default.nix](./pkgs/tools/misc/ollama/default.nix)
- [ ] [./pkgs/tools/security/hashcat/default.nix](./pkgs/tools/security/hashcat/default.nix)
- [ ] [./pkgs/tools/security/truecrack/default.nix](./pkgs/tools/security/truecrack/default.nix)
- [ ] [./pkgs/tools/system/btop/default.nix](./pkgs/tools/system/btop/default.nix)
- [ ] [./pkgs/tools/system/nvtop/build-nvtop.nix](./pkgs/tools/system/nvtop/build-nvtop.nix)
- [ ] [./pkgs/tools/X11/xpra/default.nix](./pkgs/tools/X11/xpra/default.nix)
- [ ] [./pkgs/top-level/release-cuda.nix](./pkgs/top-level/release-cuda.nix)

